<html>
    <head>      
    <!--script src="https://unpkg.com/ipfs-http-client/dist/index.min.js"></script-->
    <script src="https://unpkg.com/ipfs-http-client@45.0.0/dist/index.min.js"></script>
 </head>
    <body>
        <h1>IPFS add (Infura) (ipfs @44.1.0 )</h1>
        <pre id="log" style="width:100%;height:200px"></pre>
        <script type="text/javascript">
        function log(logstr) {   
            document.getElementById("log").innerHTML +=logstr+"\n";
        }
        async function f() {
            const str="Web3examples \r\n"; // note: trailing space, CR, LF
            const ipfs = window.IpfsHttpClient('https://ipfs.infura.io:5001');         
            log(`Adding ${str} to ipfs via Infura`);           
            
            const result = await ipfs.add(str)
            
            //for await (const result of ipfs.add(str)) 
                log(`cid=${result.path}`)
        }
        f();
		</script>
	</body>
</html>
